<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link rel="stylesheet" href="/css/ajax_store.css">

</head>
<body>
<div>
<h1>My Tool Store</h1>

<table id="products" class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Title</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Categories</th>
        </tr>
    </thead>
    <tbody id="insertProducts">
    </tbody>
</table>
<button id="refresh">Refresh</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</div>
<script>
"use strict";

function populateTable(){
$.ajax("/data/inventory.json").done(function(data) {
    $('#insertProducts').html(""); 
    data.forEach(function(element){
        var contentHTML = ""
        contentHTML += "<tr>"
        contentHTML += "<td>" + element.title + "</td>"
        contentHTML += "<td>" + element.quantity + "</td>"
        contentHTML += "<td>" + "$" + element.price + "</td>"
        contentHTML += "<td>" + element.categories.join(', ') + "</td>"
        contentHTML += "</tr>"
        element.categories.join;
      $('#insertProducts').append(contentHTML);
    })
});
}

populateTable(); 

$('#refresh').click(function(){
    populateTable();   
});

</script>

</body>
</html>
